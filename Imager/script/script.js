function testWebP(e){var a=new Image;a.onload=a.onerror=function(){e(2==a.height)},a.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const auth="563492ad6f91700001000001a6e08dc6f87848cd8d2726fd9f1a792d",gallery=document.querySelector(".gallery"),searchInp=document.querySelector(".searchInp"),form=document.querySelector(".search-form"),moreBtn=document.querySelector(".more");let searchValue,fetchLink,currentSearch,page=1;function updateValue(e){searchValue=e.target.value}async function fetchApi(e){return(await fetch(e,{method:"GET",headers:{Accept:"application/json",Authorization:auth}})).json()}function generatePic(e){e.photos.forEach(e=>{console.log(e);const a=document.createElement("div");a.classList.add("galleryImg"),a.innerHTML=`\n    <div class='gallery-info'>\n    <a href=${e.photographer_url}>${e.photographer}</a>\n    <a href=${e.src.original}>Download</a>\n    </div>\n    <img src=${e.src.large}>`,gallery.appendChild(a)})}async function curatedPhoto(){fetchLink="https://api.pexels.com/v1/curated?per_page=15&page=1";generatePic(await fetchApi(fetchLink))}async function searchPhotos(e){clear(),fetchLink=`https://api.pexels.com/v1/search?query=${e}+nature&per_page=15&page=1`;generatePic(await fetchApi(fetchLink))}function clear(){gallery.innerHTML="",searchInp.value=""}async function showMore(){page++,fetchLink=currentSearch?`https://api.pexels.com/v1/search?query=${currentSearch}+nature&per_page=15&page=${page}`:"https://api.pexels.com/v1/curated?per_page=15&page="+page;generatePic(await fetchApi(fetchLink))}searchInp.addEventListener("input",updateValue),form.addEventListener("submit",e=>{e.preventDefault(),currentSearch=searchValue,searchPhotos(searchValue)}),moreBtn.addEventListener("click",showMore),curatedPhoto(),searchPhotos();